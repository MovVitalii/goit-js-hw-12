import{a as p,i}from"./assets/vendor-Cbhu4xvy.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();const f="47399675-043703f8487c7f7d0445216cc",w="https://pixabay.com/api/";let d=1;const E=15,g=async e=>{try{return(await p.get(w,{params:{key:f,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:d,per_page:E}})).data}catch(r){throw console.error("Error fetching images:",r),new Error("Failed to fetch images")}},L=()=>{d=1},q=()=>{d+=1},y=e=>{const r=document.querySelector(".gallery");e.forEach(s=>{const n=document.createElement("div");n.classList.add("gallery-item");const t=document.createElement("img");t.src=s.webformatURL,t.alt=s.tags,t.loading="lazy";const o=document.createElement("div");o.classList.add("info"),n.appendChild(t),n.appendChild(o),r.appendChild(n)})},S=()=>{const e=document.querySelector(".gallery");e.innerHTML=""},m=()=>{const e=document.querySelector(".loader");e.style.display="block"},h=()=>{const e=document.querySelector(".loader");e.style.display="none"},P=()=>{i.info({title:"No Results",message:"No images found for your search query.",position:"topRight"})},I=()=>{i.success({title:"End of Collection",message:"You have reached the end of the collection.",position:"topRight"})},b=document.querySelector(".search-form"),v=document.querySelector(".search-input"),a=document.querySelector(".load-more");let u="",l=0;const R=async()=>{S(),m(),a.style.display="none";try{const e=await g(u);if(l=e.totalHits,e.hits.length===0){P();return}y(e.hits),l>15&&(a.style.display="block")}catch{i.error({title:"Error!",message:"Something went wrong. Please try again later.",position:"topRight"})}finally{h()}},O=async()=>{q(),m(),a.style.display="none";try{const e=await g(u);if(y(e.hits),document.querySelectorAll(".gallery-item").length>=l){a.style.display="none",I();return}else a.style.display="block";const s=document.querySelector(".gallery-item");if(!s)return;const{height:n}=s.getBoundingClientRect();window.scrollBy({top:n*2,left:0,behavior:"smooth"})}catch{i.error({title:"Error!",message:"Something went wrong. Please try again later.",position:"topRight"})}finally{h()}};b.addEventListener("submit",async e=>{e.preventDefault();const r=v.value.trim();if(!r){i.warning({title:"Warning!",message:"Please enter a search query.",position:"topRight"});return}u=r,L(),await R()});a.addEventListener("click",O);
//# sourceMappingURL=index.js.map
