import{a as w,i as l,S}from"./assets/vendor-LKfbwt14.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=a(t);fetch(t.href,r)}})();const q="47399675-043703f8487c7f7d0445216cc",L="https://pixabay.com/api/";let d=1;const E=15,g=async e=>{try{const o=await w.get(L,{params:{key:q,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:d,per_page:E}});if(o.status!==200)throw new Error(`Failed to fetch images. Status: ${o.status}`);if(o.data.totalHits===0)throw new Error("No images found for your search query.");return o.data}catch(o){throw console.error("Error fetching images:",o.message),new Error("Failed to fetch images")}},b=()=>{d=1},I=()=>{d+=1},y=e=>{const o=document.querySelector(".gallery"),a=e.map(s=>`
        <div class="gallery-item">
          <a href="${s.largeImageURL}">
            <img src="${s.webformatURL}" alt="${s.tags}" loading="lazy" />
          </a>
        </div>
      `).join("");o.insertAdjacentHTML("beforeend",a)},P=()=>{const e=document.querySelector(".gallery");e.innerHTML=""},m=()=>{const e=document.querySelector(".loader");e.style.display="block"},h=()=>{const e=document.querySelector(".loader");e.style.display="none"},R=()=>{l.info({title:"No Results",message:"No images found for your search query.",position:"topRight"})},v=()=>{l.success({title:"End of Collection",message:"You have reached the end of the collection.",position:"topRight"})},A=document.querySelector(".search-form"),H=document.querySelector(".search-input"),n=document.querySelector(".load-more");let u="",c=0;const f=new S(".gallery a",{captions:!0,captionsData:"alt",captionDelay:250}),M=async()=>{P(),m(),n.style.display="none";try{const e=await g(u);if(c=e.totalHits,e.hits.length===0){R();return}y(e.hits),f.refresh(),c>15&&(n.style.display="block")}catch{l.error({title:"Error!",message:"Something went wrong. Please try again later.",position:"topRight"})}finally{h()}},N=async()=>{I(),m(),n.style.display="none";try{const e=await g(u);if(y(e.hits),f.refresh(),document.querySelectorAll(".gallery-item").length>=c){n.style.display="none",v();return}else n.style.display="block";const a=document.querySelectorAll(".gallery-item");if(a.length>0){const s=document.querySelector(".gallery"),t=a[0],{height:r}=t.getBoundingClientRect(),i=parseFloat(getComputedStyle(s).gap||0),O=5,p=(r+i)*2;window.scrollBy({top:p,left:0,behavior:"smooth"})}}catch{l.error({title:"Error!",message:"Something went wrong. Please try again later.",position:"topRight"})}finally{h()}};A.addEventListener("submit",async e=>{e.preventDefault();const o=H.value.trim();if(!o){l.warning({title:"Warning!",message:"Please enter a search query.",position:"topRight"});return}u=o,b(),await M()});n.addEventListener("click",N);
//# sourceMappingURL=index.js.map
