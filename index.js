import{a as p,i as c}from"./assets/vendor-Cbhu4xvy.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();const E="47399675-043703f8487c7f7d0445216cc",w="https://pixabay.com/api/";let d=1;const L=15,m=async e=>{try{return(await p.get(w,{params:{key:E,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:d,per_page:L}})).data}catch(r){throw console.error("Error fetching images:",r),new Error("Failed to fetch images")}},I=()=>{d=1},P=()=>{d+=1},y=e=>{const r=document.querySelector(".gallery");e.forEach(s=>{const n=document.createElement("div");n.classList.add("gallery-item");const t=document.createElement("img");t.src=s.webformatURL,t.alt=s.tags,t.loading="lazy";const o=document.createElement("div");o.classList.add("info"),n.appendChild(t),n.appendChild(o),r.appendChild(n)})},q=()=>{const e=document.querySelector(".gallery");e.innerHTML=""},g=()=>{const e=document.getElementById("loader");e.style.display="block"},f=()=>{const e=document.getElementById("loader");e.style.display="none"},S=()=>{c.info({title:"No Results",message:"No images found for your search query.",position:"topRight"})},v=()=>{c.success({title:"End of Collection",message:"You have reached the end of the collection.",position:"topRight"})},b=document.querySelector(".search-form"),O=document.querySelector(".search-input"),a=document.querySelector(".load-more");let u="",i=0;const h=async()=>{q(),g(),a.style.display="none";try{const e=await m(u);if(i=e.totalHits,e.hits.length===0){S();return}y(e.hits),i>15&&(a.style.display="block")}catch{c.error({title:"Error!",message:"Something went wrong. Please try again later."})}finally{f()}},C=async()=>{P(),g(),a.style.display="none";try{const e=await m(u);if(y(e.hits),document.querySelectorAll(".gallery-item").length>=i){a.style.display="none",v();return}else a.style.display="block";const s=document.querySelector(".gallery-item");if(!s)return;const{height:n}=s.getBoundingClientRect();window.scrollBy({top:n*2,left:0,behavior:"smooth"})}catch{c.error({title:"Error!",message:"Something went wrong. Please try again later."})}finally{f()}};b.addEventListener("submit",async e=>{e.preventDefault();const r=O.value.trim();if(!r){c.warning({title:"Warning!",message:"Please enter a search query."});return}u=r,I(),await h()});a.addEventListener("click",C);document.addEventListener("DOMContentLoaded",h);
//# sourceMappingURL=index.js.map
